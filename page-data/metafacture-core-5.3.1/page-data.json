{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/metafacture-core-5.3.1/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Metafacture Blog"}},"markdownRemark":{"id":"88723931-08af-571f-b6e6-95c401535797","excerpt":"Preamble This post describes the new developements in  since the release\nof metafacture-core-5.2.0 in April 2021.\nAs the release of metafacture-core-5.3.0\ncomes…","html":"<p><em>Preamble</em></p>\n<p>This post describes the new developements in <code class=\"language-text\">metafacture-core release 5.3.1</code> since the release\nof <a href=\"https://github.com/metafacture/metafacture-core/releases/tag/metafacture-core-5.2.0\">metafacture-core-5.2.0 in April 2021</a>.\nAs the <a href=\"https://github.com/metafacture/metafacture-core/releases/tag/metafacture-core-5.3.0\">release of metafacture-core-5.3.0</a>\ncomes with some <a href=\"https://github.com/metafacture/metafacture-core/pull/429\">possible breaking changes</a> it is recommended to stick to <code class=\"language-text\">5.3.1</code>.\nThe intention is to provide a single paged overview of the improvements with the <a href=\"#examples\">example</a>\nsection to provide a condensed glimpse showing more real life examples.</p>\n<h2 id=\"table-of-contents\" style=\"position:relative;\"><a href=\"#table-of-contents\" aria-label=\"table of contents permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Table of Contents</h2>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#changes\">Changes</a></p>\n<ul>\n<li><a href=\"#bug-fixes\">Bug fixes</a></li>\n<li><a href=\"#new-features\">New Features</a></li>\n<li><a href=\"#others\">Others</a></li>\n<li><a href=\"#caveats\">Caveats</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#examples\">Examples</a></p>\n<ul>\n<li><a href=\"#encoding-marc21-xml\">Encoding (MARC21) XML</a></li>\n<li><a href=\"#encoding-json\">Encoding JSON</a></li>\n<li><a href=\"#morph-function-setreplace-with-filemaps\">Morph function “setreplace” with filemaps</a></li>\n</ul>\n</li>\n<li><a href=\"#outlook\">Outlook</a></li>\n</ul>\n</div>\n<h2 id=\"changes\" style=\"position:relative;\"><a href=\"#changes\" aria-label=\"changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Changes</h2>\n<h3 id=\"bug-fixes\" style=\"position:relative;\"><a href=\"#bug-fixes\" aria-label=\"bug fixes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bug fixes</h3>\n<ul>\n<li>XML/biblio: Fix creation of Marc XML namespaces <a href=\"https://github.com/metafacture/metafacture-core/issues/403\">#403</a></li>\n<li>XML/biblio: Fix Namespace-prefixes of elements and attributes <a href=\"https://github.com/metafacture/metafacture-core/issues/377\">#377</a></li>\n<li>XML/biblio: Marc-XML-encoder: record-type written as controlfield not as attribut of record-field <a href=\"https://github.com/metafacture/metafacture-core/issues/402\">#402</a></li>\n<li>XML/biblio: Improve handling of XML attributes and element values <a href=\"https://github.com/metafacture/metafacture-core/pull/394\">#394</a></li>\n<li>XML/biblio: Encode top-level MARC record leader as proper XML element instead of control field <a href=\"https://github.com/metafacture/metafacture-core/issues/336\">#336</a></li>\n<li>XML/biblio: Make simple XML encoder value tag name configurable <a href=\"https://github.com/metafacture/metafacture-core/issues/379\">#379</a></li>\n<li>JSON: Fix <code class=\"language-text\">_elseNested</code> loses array-key in JSON <a href=\"https://github.com/metafacture/metafacture-core/issues/374\">#374</a></li>\n<li>Metamorph: Fix <code class=\"language-text\">_elseNested</code> only outputs two hierachy levels <a href=\"https://github.com/metafacture/metafacture-core/issues/378\">#378</a></li>\n<li>Metamorph: Fix “setreplace” using a FileMap <a href=\"https://github.com/metafacture/metafacture-core/issues/381\">#381</a></li>\n<li>Metamorph: Guarantee that tests should verify that no unexpected interactions occurred <a href=\"https://github.com/metafacture/metafacture-core/issues/339\">#339</a></li>\n</ul>\n<h3 id=\"new-features\" style=\"position:relative;\"><a href=\"#new-features\" aria-label=\"new features permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>New Features</h3>\n<ul>\n<li>JSON: Make JSON encoder array marker configurable <a href=\"https://github.com/metafacture/metafacture-core/pull/393\">#393</a></li>\n<li>JSON: Add or enhance a function to extract JSON-Records from an JSON-API <a href=\"https://github.com/metafacture/metafacture-core/issues/382\">#382</a></li>\n<li>Mangling: Split up event stream into records <a href=\"https://github.com/metafacture/metafacture-core/issues/385\">#385</a></li>\n<li>Metamorph: Allow empty values in setreplace map <a href=\"https://github.com/metafacture/metafacture-core/issues/420\">#420</a></li>\n<li>Triples: Sort triples numerically <a href=\"https://github.com/metafacture/metafacture-core/issues/380\">#380</a></li>\n<li>YAML: Add YAML Encoder/Decoder <a href=\"https://github.com/metafacture/metafacture-core/issues/399\">#399</a></li>\n</ul>\n<h3 id=\"others\" style=\"position:relative;\"><a href=\"#others\" aria-label=\"others permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Others</h3>\n<ul>\n<li>Update release and publish process <a href=\"https://github.com/metafacture/metafacture-core/issues/311\">#311</a></li>\n<li>Checkstyle and javadoc <a href=\"https://github.com/metafacture/metafacture-core/issues/\">#389</a>389 and <a href=\"https://github.com/metafacture/metafacture-core/issues/396\">#396</a></li>\n<li>Update and apply EditorConfig file <a href=\"https://github.com/metafacture/metafacture-core/issues/388\">#388</a></li>\n<li>Add initial CONTRIBUTING.md <a href=\"https://github.com/metafacture/metafacture-core/issues/382\">#382</a></li>\n<li>Fix insecure logging configuration <a href=\"https://github.com/metafacture/metafacture-core/issues/364\">#364</a></li>\n</ul>\n<p>… and various smaller fixes and improvements (e.g. <a href=\"https://github.com/metafacture/metafacture-core/issues/417\">#417</a>)</p>\n<h3 id=\"caveats\" style=\"position:relative;\"><a href=\"#caveats\" aria-label=\"caveats permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Caveats</h3>\n<p>This will occur only quite rarely:\nIf you are using a <code class=\"language-text\">metamorph.xsd</code> on your own and make use of <code class=\"language-text\">FileMap</code> you have to also update your locally <code class=\"language-text\">metamorph.xsd</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span>      &lt;attribute name=\"separator\" type=\"string\" use=\"optional\" default=\"\\t\">\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>      &lt;attribute name=\"separator\" type=\"string\" use=\"optional\" default=\"&amp;#09;\"></span></code></pre></div>\n<h2 id=\"examples\" style=\"position:relative;\"><a href=\"#examples\" aria-label=\"examples permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Examples</h2>\n<p>Here are some examples that describe the former behaviour and the new changes.</p>\n<h3 id=\"encoding-marc21-xml\" style=\"position:relative;\"><a href=\"#encoding-marc21-xml\" aria-label=\"encoding marc21 xml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Encoding (MARC21) XML</h3>\n<p>Namespace prefixes of elements and attributes in XML can now be preserved by adding\na parameter in the flux: <code class=\"language-text\">handle-generic-xml(emitnamespace=&quot;true&quot;)</code>.</p>\n<p>The MARC21 XML encoding has gotten some improvements regarding the <em>record type</em> (which\nwas formerly written as a <em>controllfield</em>). Also the output of <em>leader</em> is now fixed.</p>\n<p>Input:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\t&lt;record xmlns=&quot;http://www.loc.gov/MARC21/slim&quot; type=&quot;Bibliographic&quot;&gt;\n\t\t&lt;leader&gt;00000pam a2200000 c 4500&lt;/leader&gt;\n\t\t&lt;marc:datafield tag=&quot;856&quot; ind1=&quot;4&quot; ind2=&quot;0&quot;&gt;\n\t\t\t&lt;marc:subfield code=&quot;u&quot;&gt;http://www.video2brain.com/&lt;/mx:subfield&gt;\n\t\t\t&lt;marc:subfield code=&quot;x&quot;&gt;Agentur&lt;/mx:subfield&gt;\n\t\t&lt;/marc:datafield&gt;\n\t&lt;/record&gt;</code></pre></div>\n<p>was:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\t&lt;marc:record&gt;\n\t\t&lt;marc:controlfield tag=&quot;type&quot;&gt;Bibliographic&lt;/marc:controlfield&gt;\n\t\t&lt;marc:leader&gt;00000pam a2200000 c 4500&lt;/marc:leader&gt;\n\t\t&lt;marc:datafield tag=&quot;856&quot; ind1=&quot;4&quot; ind2=&quot;0&quot;&gt;\n\t\t\t&lt;marc:subfield code=&quot;u&quot;&gt;http://www.video2brain.com/&lt;/marc:subfield&gt;\n\t\t&lt;/marc:datafield&gt;\n\t\t&lt;marc:datafield tag=&quot;856&quot; ind1=&quot;4&quot; ind2=&quot;0&quot;&gt;\n\t\t\t&lt;marc:subfield code=&quot;x&quot;&gt;Agentur&lt;/marc:subfield&gt;\n\t\t&lt;/marc:datafield&gt;\n\t&lt;/marc:record&gt;</code></pre></div>\n<p>now:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\t&lt;marc:record type=&quot;Bibliographic&quot;&gt;\n\t\t&lt;marc:leader&gt;00000pam a2200000 c 4500&lt;/marc:leader&gt;\n\t\t&lt;marc:datafield tag=&quot;856&quot; ind1=&quot;4&quot; ind2=&quot;0&quot;&gt;\n\t\t\t&lt;marc:subfield code=&quot;u&quot;&gt;http://www.video2brain.com/&lt;/mx:subfield&gt;\n\t\t\t&lt;marc:subfield code=&quot;x&quot;&gt;Agentur&lt;/mx:subfield&gt;\n\t\t&lt;/marc:datafield&gt;\n\t&lt;/marc:record&gt;\n`</code></pre></div>\n<p>It’s now possible to configure what’s a <code class=\"language-text\">valuetag (String)</code> and an <code class=\"language-text\">attributemarker (String)</code> in many XML-related readers and encoders (see the diff of the <a href=\"https://github.com/metafacture/metafacture-documentation/compare/metafacture-core-5.2.0...metafacture-core-5.3.1#diff-7fd24f94041ffda2e7eb15c142412b7a526b755259837bc20cdb15fcce46ef1e\">flux-commands.md</a>).</p>\n<h3 id=\"encoding-json\" style=\"position:relative;\"><a href=\"#encoding-json\" aria-label=\"encoding json permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Encoding JSON</h3>\n<p>The possibilty in morph to serve pass down untreated fields untouched was delimited to\na nested hierachy of only two. Also, the structure was kind of broken e.g. for JSON.</p>\n<p>Using the following FLUX:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&quot;testArray.json&quot;\n| open-file\n| as-records\n| decode-json\n| morph(&quot;all.xml&quot;)\n| encode-json(prettyPrinting=&quot;true&quot;)\n| write(&quot;stdout&quot;);</code></pre></div>\n<p>and the morph:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;metamorph xmlns=&quot;http://www.culturegraph.org/metamorph&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n\tversion=&quot;1&quot;&gt;\n\t&lt;rules&gt;\n&lt;data source=&quot;_elseNested&quot;/&gt;\n&lt;/rules&gt;\n&lt;/metamorph&gt;</code></pre></div>\n<p>with this JSON input:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"@type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Katja Königstein-Lüdersdorff\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"@type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Corinna Peters\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"@type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Oleg Tjulenev\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"@type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Claudia Vogeler\"</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>resulted in:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"1\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Katja Königstein-Lüdersdorff\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"2\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Corinna Peters\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"3\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Oleg Tjulenev\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"4\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Claudia Vogeler\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>With the new release the output is:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"author\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Katja Königstein-Lüdersdorff\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Corinna Peters\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Oleg Tjulenev\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"@type\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Person\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"Claudia Vogeler\"</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"morph-function-setreplace-with-filemaps\" style=\"position:relative;\"><a href=\"#morph-function-setreplace-with-filemaps\" aria-label=\"morph function setreplace with filemaps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Morph function “setreplace” with filemaps</h3>\n<p>You can now use the morph function <code class=\"language-text\">setreplace</code> with externals file maps. These maps\nare lists of tabulator separated values (tsv): the first value is, when matched,\nsubstituted by the second value. You can also leave out a second value resulting in the\nremoval of the matched value. Use it like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">       ...\n       &lt;rules&gt;\n          &lt;data source=&#39;fieldNameWhereValuesShallBeSubstituded&#39;&gt;\n            &lt;setreplace map=&#39;mapname&#39; /&gt;\n          &lt;/data&gt;\n        &lt;/rules&gt;\n        &lt;maps&gt;\n          &lt;filemap name=&#39;mapname&#39; files=&#39;org/metafacture/metamorph/maps/file-map-test.txt&#39; /&gt;\n        &lt;/maps&gt;\n        ...</code></pre></div>\n<h2 id=\"outlook\" style=\"position:relative;\"><a href=\"#outlook\" aria-label=\"outlook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Outlook</h2>\n<p>We are working on a <a href=\"https://librecat.org/Catmandu/#fix-language\">Catmandu like fix language</a> which can be used instead of the <code class=\"language-text\">morph</code> script.\nAlso, there will be a <a href=\"https://metafacture.org/playground\">playground</a>, realized as\na web app, to play around with data and transformation rules and see the outcome\nimmediately. You will be offered to load predefined examples.\nThe <code class=\"language-text\">playground</code> comes with the capability to share examples or whole complex\nworkflows, with the vision to enable this as a web API for processing data without\neven installing metafacture.</p>\n<p>Watch out for updates and new blog posts!</p>","frontmatter":{"title":"Metafacture-core release 5.3.1","date":"January 06, 2022","authors":[{"lastname":"Christoph","firstname":"Pascal"}],"description":"This is about changes coming with the metafacture-core release 5.3.0 and 5.3.1"}},"previous":{"fields":{"slug":"/hello-world/"},"frontmatter":{"title":"Hello World"}},"next":{"fields":{"slug":"/2022-01-24-hbz-info/"},"frontmatter":{"title":"Metafacture @ hbz"}}},"pageContext":{"id":"88723931-08af-571f-b6e6-95c401535797","previousPostId":"c6de028e-194d-5109-802b-3d7893d4fc9b","nextPostId":"adfff795-4b4f-5828-afd1-7619f176e549"}},
    "staticQueryHashes": ["2841359383","3660548064","692268856"]}